# æ…ˆå¿ƒèª²ç¨‹ç¹”åœ–

ä»¥ **Eleventy (11ty)** + **Tailwind CSS** + **Pagefind** è£½ä½œçš„**éœæ…‹èª²ç¨‹å±•ç¤ºç¶²ç«™**ã€‚  
è‡ªå‹•å¾ **Google Drive å…¬é–‹è³‡æ–™å¤¾**åŒæ­¥ç…§ç‰‡ï¼éŸ³æª”ï¼Œæ”¯æ´**å¤šèª²ç¨‹**ã€ç¸®åœ–ç€è¦½ï¼‹**Lightbox**ã€ç«™å…§æœå°‹èˆ‡**å¿«é€Ÿç¯©é¸**ã€‚
- å·²å¥—ç”¨ Eleventy `pathPrefix`ï¼Œä¸¦åœ¨æ¨¡æ¿ä½¿ç”¨ `{{ '/path' | url }}` æ”¯æ´ GitHub Project Pages å­è·¯å¾‘ã€‚

> å…§å®¹æˆæ¬Šï¼šCC BY-NCï¼›å«å­¸ç”Ÿç…§ç‰‡ä¹‹ç´ æå·²å–å¾—å…¬é–‹æˆæ¬Šã€‚  
> è¯çµ¡ï¼šit@waldorf.ilc.edu.tw

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¦½

é€™æ˜¯ä¸€å€‹å°ˆç‚ºæ•™è‚²æ©Ÿæ§‹è¨­è¨ˆçš„éœæ…‹èª²ç¨‹ç¶²ç«™ç”Ÿæˆå™¨ï¼Œä¸»è¦ç‰¹è‰²ï¼š

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **å¤šèª²ç¨‹ç®¡ç†**: æ”¯æ´å¤šå€‹èª²ç¨‹åŒæ™‚å±•ç¤ºï¼Œæ¯å€‹èª²ç¨‹æœ‰ç¨ç«‹çš„é é¢çµæ§‹
- **Google Drive æ•´åˆ**: è‡ªå‹•åŒæ­¥å…¬é–‹Driveè³‡æ–™å¤¾ä¸­çš„åœ–ç‰‡å’ŒéŸ³æª”
- **éŸ¿æ‡‰å¼ç›¸ç°¿**: æ”¯æ´ç¸®åœ–ç€è¦½ã€Lightboxæ”¾å¤§ã€éµç›¤å°èˆª
- **æ™ºèƒ½æ¨™ç±¤ç³»çµ±**: å¾æª”åè‡ªå‹•æå–æ¨™ç±¤ï¼Œæ”¯æ´ä¸­è‹±æ–‡æ¨™è¨˜
- **å…¨æ–‡æœç´¢**: åŸºæ–¼Pagefindçš„ç«™å…§æœç´¢åŠŸèƒ½
- **å¿«é€Ÿç¯©é¸**: ç›¸ç°¿é é¢çš„å³æ™‚é—œéµå­—ç¯©é¸

### ğŸ›  æŠ€è¡“æ¶æ§‹
- **éœæ…‹ç¶²ç«™ç”Ÿæˆ**: Eleventy (11ty) v3.0
- **æ¨£å¼æ¡†æ¶**: Tailwind CSS + è‡ªå®šç¾©CSS
- **æœç´¢å¼•æ“**: Pagefind v1.4
- **è‡ªå‹•åŒ–éƒ¨ç½²**: GitHub Actions
- **æª”æ¡ˆåŒæ­¥**: Google Drive API v3

### ğŸ“ å°ˆæ¡ˆçµæ§‹
```
course-site-starter/
â”œâ”€â”€ .eleventy.js              # Eleventyé…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json              # NPMé…ç½®å’Œè…³æœ¬
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ fetch-drive.mjs       # Google DriveåŒæ­¥è…³æœ¬
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ css/site.css          # è‡ªå®šç¾©æ¨£å¼
â”‚   â””â”€â”€ js/gallery.js         # åœ–ç‰‡ç€è¦½åŠŸèƒ½
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ _data/                # æ•¸æ“šæ–‡ä»¶å¤¾
â”‚   â”‚   â”œâ”€â”€ site.json         # ç«™é»åŸºæœ¬ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ coursesList.js    # èª²ç¨‹åˆ—è¡¨ç”Ÿæˆå™¨
â”‚   â”‚   â””â”€â”€ course_*.json     # å„èª²ç¨‹æ•¸æ“šæ–‡ä»¶
â”‚   â”œâ”€â”€ _includes/            # æ¨¡æ¿çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ layouts/base.njk  # åŸºç¤é é¢æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ components/       # å¯å¾©ç”¨çµ„ä»¶
â”‚   â”œâ”€â”€ courses/              # èª²ç¨‹é é¢æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ index.njk         # èª²ç¨‹åˆ—è¡¨é 
â”‚   â”‚   â”œâ”€â”€ home.njk          # èª²ç¨‹ä¸»é 
â”‚   â”‚   â”œâ”€â”€ workbook.njk      # å·¥ä½œæœ¬ç›¸ç°¿
â”‚   â”‚   â”œâ”€â”€ photos.njk        # ç…§ç‰‡é›†
â”‚   â”‚   â”œâ”€â”€ blackboard.njk    # é»‘æ¿ç•«
â”‚   â”‚   â”œâ”€â”€ scripts.njk       # åŠ‡æœ¬ç…§ç‰‡
â”‚   â”‚   â””â”€â”€ songs.njk         # æ­Œæ›²éŸ³æª”
â”‚   â”œâ”€â”€ reflections/
â”‚   â”‚   â””â”€â”€ index.njk         # ç•™è¨€äº¤æµé 
â”‚   â””â”€â”€ index.njk             # ç¶²ç«™é¦–é 
â””â”€â”€ .github/workflows/
    â””â”€â”€ gh-pages.yml          # è‡ªå‹•éƒ¨ç½²é…ç½®
```

---

## âœ¨ åŠŸèƒ½ç¸½è¦½

- å¤šèª²ç¨‹å°è¦½ï¼šèª²ç¨‹ä¸»é ï¼ˆèª²ç¨‹åç¨±ï¼ç°¡ä»‹ï¼æ•™å¸«ä»‹ç´¹ï¼‰ï¼‹å…­å¤§åˆ†é   
  `å·¥ä½œæœ¬ï½œç…§ç‰‡é›†ï½œé»‘æ¿ç•«ï½œåŠ‡æœ¬ï½œæ­Œæ›²èˆ‡éŸ³æª”ï½œç•™è¨€èˆ‡äº¤æµ`
- Drive åŒæ­¥è…³æœ¬ï¼šå¾å…¬é–‹è³‡æ–™å¤¾æ“·å–æª”æ¡ˆæ¸…å–®ï¼Œç”¢ç”Ÿ JSONï¼ˆå¯æ‰‹å‹•è¦†å¯«ï¼‰
- åœ–ç‰‡ç›¸ç°¿ï¼šç¸®åœ–æ ¼ç‹€ç€è¦½ã€é»æ“Šæ”¾å¤§ã€**æ–¹å‘éµåˆ‡æ›**ã€**ESC é—œé–‰**
- å¿«é€Ÿç¯©é¸ï¼ˆåƒ…ç›¸ç°¿é ï¼‰ï¼šè¼¸å…¥å¤šå€‹é—œéµå­—ï¼ˆ**AND æ¢ä»¶**ï¼‰å³æ™‚éæ¿¾
- ç«™å…§æœå°‹ï¼ˆPagefindï¼‰ï¼šæœå°‹èª²ç¨‹æ–‡å­—å…§å®¹ï¼ˆé¦–é ï¼èª²ç¨‹é ç­‰ï¼‰
- æ¨™ç±¤ç³»çµ±ï¼š  
  - **è‡ªå‹•å¾æª”åæ“·å–** `[æ–¹æ‹¬è™Ÿ]`ï¼`ã€å…¨å½¢ã€‘`ï¼`#hashtag`  
  - **è‡ªå‹•é™„åŠ èª²ç¨‹å±¤ç´šæ¨™ç±¤**ï¼šå¹´ç´šã€å­¸æœŸã€ä¸»é¡Œå–®å…ƒã€èª²ç¨‹é ˜åŸŸ  
- éŸ³æª”æ’­æ”¾ï¼šç›´æ¥ä¸²æµ Google Drive (`uc?export=download&id=...`) æˆ–ä¸‹è¼‰  
- é©åˆ GitHub Pages ç™¼ä½ˆï¼ˆç´”éœæ…‹ã€ç„¡ä¼ºæœå™¨ï¼‰

---

## ğŸ—‚ï¸ è³‡æ–™çµæ§‹ï¼ˆ`course_*.json`ï¼‰

æ¯é–€èª²ä¸€å€‹ JSON æª”ï¼Œç¯„ä¾‹ï¼š

```json
{
  "slug": "2a-nenggao-113-summer",
  "title": "èƒ½é«˜å±±ï¼ˆç­ç´šæˆ²åŠ‡ï¼‰",
  "grade": "äºŒå¹´ç´š 2A å¶ºå…‰ç­",
  "semester": "113 å­¸å¹´åº¦ å¤å­£",
  "unit": "ç­ç´šæˆ²åŠ‡",
  "domain": "è‡ªç„¶ä¸»èª²",
  "teacher": "ç‹ç¬å©·",
  "tags": ["æˆ²åŠ‡", "é»‘æ¿ç•«", "å·¥ä½œæœ¬", "æ­Œæ›²"],
  "drive_folders": {
    "workbook_photos": "FOLDER_ID",
    "blackboard": "FOLDER_ID",
    "photos": "FOLDER_ID",
    "scripts_and_performance": "FOLDER_ID",
    "songs_audio": "FOLDER_ID"
  },
  "google_docs": {
    "course_description": "GOOGLE_DOC_ID",
    "play_script": "GOOGLE_DOC_ID"
  },
  "files": {
    "workbook_photos": [
      { "id": "FILE_ID", "name": "P01ã€ç¬¬1é€±ã€‘ã€è¢ç«èŸ²ã€‘", "tags": ["ç¬¬1é€±","è¢ç«èŸ²","äºŒå¹´ç´š 2A å¶ºå…‰ç­","113 å­¸å¹´åº¦ å¤å­£","ç­ç´šæˆ²åŠ‡","è‡ªç„¶ä¸»èª²"] }
    ],
    "blackboard": [ { "id": "FILE_ID", "name": "..." , "tags": ["..."] } ],
    "photos":    [ { "id": "FILE_ID", "name": "..." , "tags": ["..."] } ],
    "scripts_photos": [ { "id": "FILE_ID", "name": "..." , "tags": ["..."] } ],
    "songs": [
      { "title": "ä¸è¦æ‰å¼„", "id": "FILE_ID", "mimeType": "audio/x-m4a" }
    ]
  },
  "overview": "èª²ç¨‹ç°¡ä»‹æ–‡å­—ã€‚"
}
```

**é‡é»ï¼š**
- `drive_folders`ï¼šæ”¾å„åˆ†é¡çš„ **Google Drive è³‡æ–™å¤¾ ID**ï¼ˆéœ€è¨­ç‚ºã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººå¯æª¢è¦–ã€ï¼‰ã€‚  
- `google_docs`ï¼šæ”¾èª²ç¨‹ç›¸é—œçš„ **Google Docs æ–‡ä»¶ ID**ï¼Œå¦‚èª²ç¨‹èªªæ˜ã€åŠ‡æœ¬ç­‰ï¼ˆéœ€è¨­ç‚ºã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººå¯æª¢è¦–ã€ï¼‰ã€‚
- `files.*`ï¼šåŸ·è¡ŒåŒæ­¥è…³æœ¬å¾Œè‡ªå‹•è¦†å¯«ï¼›**åœ–ç‰‡æœƒå¯«æˆç‰©ä»¶ `{id,name,tags}`**ã€‚  
- æ¨™ç±¤ä¾†æºï¼š
  - ç”±æª”åè‡ªå‹•æ“·å–ï¼š`[æ–¹æ‹¬è™Ÿ]`ã€`ã€å…¨å½¢ã€‘`ã€`#hashtag`ï¼ˆä¾‹å¦‚ `P01ã€ç¬¬2é€±ã€‘ã€è¢ç«èŸ²ã€‘.jpg`ï¼‰  
  - ç”±èª²ç¨‹å±¤ç´šè‡ªå‹•é™„åŠ ï¼š`grade/semester/unit/domain`
- **éŸ³æª”**ï¼šä»¥ `{title,id,mimeType}` è¡¨ç¤ºï¼Œé é¢ä»¥ `<audio>` ä¸²æµæ’­æ”¾ã€‚

---

## ğŸ” Google Drive åŒæ­¥è…³æœ¬

### å–å¾— API Keyï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
1. åˆ° Google Cloud Console é–‹å•Ÿå°ˆæ¡ˆä¸¦å•Ÿç”¨ **Drive API**ã€‚  
2. å»ºç«‹ **API é‡‘é‘°**ï¼ˆä¸é™åˆ¶ï¼‰ã€‚  
3. å°‡é‡‘é‘°è¨­åˆ°ç’°å¢ƒè®Šæ•¸ `GOOGLE_API_KEY`ã€‚

### åŒæ­¥è…³æœ¬å·¥ä½œæµç¨‹

**è…³æœ¬åŸ·è¡Œæ­¥é©Ÿï¼š**
1. å‚™ä»½åŒæ­¥å‰çš„ `course_*.json` â†’ `course_*.json.bak`
2. å¾ Drive æŠ“å–æª”æ¡ˆæ¸…å–®ï¼ˆåœ–ç‰‡ã€éŸ³æª”ã€æ–‡ä»¶ï¼‰
3. è¦†å¯«åŸå§‹ JSONï¼ˆåŠ å…¥ `files.*` å’Œ `docs.*` å®Œæ•´å…§å®¹ï¼‰

> **æç¤º**ï¼š`.bak` æª”æ¡ˆä¿å­˜ä¹¾æ·¨çš„èª²ç¨‹å…ƒæ•¸æ“šï¼Œæäº¤å‰å‹™å¿…é‚„åŸã€‚
> è‹¥åœ–ç‰‡ç„¡æ³•é¡¯ç¤ºï¼Œè«‹æª¢æŸ¥ Drive æª”æ¡ˆ/è³‡æ–™å¤¾æ¬Šé™è¨­ç‚ºã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººå¯æª¢è¦–ã€ã€‚

---

## ğŸ” æœå°‹èˆ‡ç¯©é¸

- **Pagefind ç«™å…§æœå°‹**ï¼šæœå°‹é é¢æ–‡å­—ï¼ˆé¦–é ï¼èª²ç¨‹ä¸»é ç­‰ï¼‰ã€‚  
  - **é–‹ç™¼æ¨¡å¼ï¼ˆnpm run devï¼‰**ï¼šv9.1 æœƒè‡ªå‹•åµæ¸¬æœ¬æ©Ÿ `/pagefind/*` æ˜¯å¦å­˜åœ¨ï¼›æ²’æœ‰å°±æ”¹ç”¨ **CDN**ï¼Œé¿å… 404/MIME éŒ¯èª¤ã€‚  
  - **æ­£å¼éƒ¨ç½²**ï¼š`npm run deploy` æœƒå»ºç«‹ç´¢å¼•åˆ° `_site/pagefind/*`ã€‚

- **ç›¸ç°¿å¿«é€Ÿç¯©é¸**ï¼ˆç›¸ç°¿é å³ä¸Šè§’è¼¸å…¥æ¡†ï¼‰ï¼š  
  - ä»¥ç©ºç™½åˆ†éš”å¤šå€‹é—œéµå­—ï¼ˆAND æ¢ä»¶ï¼‰  
  - æ¯”å°ç¯„åœï¼š**æª”åï¼ˆnameï¼‰ï¼‹ æ¨™ç±¤ï¼ˆtagsï¼‰ï¼‹ åœ–ç‰‡ Alt**

---

## ğŸ§ª é–‹ç™¼èˆ‡å»ºç½®

```bash
# å®‰è£
npm install

# é–‹ç™¼æ¨¡å¼ï¼ˆhttp://localhost:8080ï¼‰
npm run dev

# åªå»ºç½®éœæ…‹æª”ï¼ˆ_siteï¼‰
npm run build

# å»ºç½® + ç”¢ç”Ÿ Pagefind ç´¢å¼•
npm run deploy
```

---

## â˜ï¸ ç™¼ä½ˆåˆ° GitHub Pages

å…©ç¨®åšæ³•æ“‡ä¸€ï¼š

### æ–¹æ¡ˆ Aï¼šGitHub Actions è‡ªå‹•éƒ¨ç½²ï¼ˆå»ºè­°ï¼‰
1) æ¨åˆ° `main`ï¼Œæˆ–åœ¨ Actions ä¸­æ‰‹å‹• **Run workflow**ã€‚
2) è¨­å®š Pagesï¼šSettings â†’ Pages â†’ Source = **Branch: gh-pages / Root**ã€‚
3) ç¶²å€ï¼š`https://<ä½ çš„å¸³è™Ÿ>.github.io/<repo-name>/`ï¼ˆæœ¬ repo ç‚º `/course-site-starter/`ï¼‰ã€‚

> è‹¥è¦åœ¨ CI å…§åŒæ­¥ Driveï¼ˆå¯é¸ï¼‰ï¼šåœ¨ repo **Settings â†’ Secrets â†’ Actions** å»ºç«‹ `GOOGLE_API_KEY`ï¼Œ
> ä¸¦è§£é™¤ workflow å…§å° `sync:drive` æ­¥é©Ÿçš„è¨»è§£ã€‚

### æ–¹æ¡ˆ Bï¼šæœ¬æ©Ÿå»ºç½®å¾Œæ¨åˆ° `gh-pages` åˆ†æ”¯
```bash
npm run deploy
git subtree push --prefix _site origin gh-pages
# è¨­å®š Pages Sourceï¼šgh-pages / æ ¹ç›®éŒ„
```

---

## ğŸ¨ å®¢è£½åŒ–

- ç«™åï¼é å°¾è³‡è¨Šï¼š`src/_data/site.json`  
- ç‰ˆé ­å°è¦½ï¼Pagefind è¼‰å…¥ç­–ç•¥ï¼š`src/_includes/layouts/base.njk`ï¼ˆå…§å»ºå‹•æ…‹è¼‰å…¥ï¼‰  
- ä¸»è¦–è¦ºè‰²å½©èˆ‡å…ƒä»¶å¾®èª¿ï¼š`public/css/site.css`  
- èª²ç¨‹å°è¦½å…ƒä»¶ï¼š`src/_includes/components/course_nav.njk`  
- ç›¸ç°¿å…ƒä»¶ï¼š`src/_includes/components/drive.njk`  
- Lightbox èˆ‡ç¯©é¸ï¼š`public/js/gallery.js`

---

## ğŸ” ç’°å¢ƒè¨­å®šèˆ‡ Git å·¥ä½œæµç¨‹

### ç’°å¢ƒè®Šæ•¸è¨­å®š

å»ºç«‹ `.env` æª”æ¡ˆï¼ˆä¸æœƒè¢« git è¿½è¹¤ï¼‰ï¼š

```bash
# Google Drive API Key for localhost development
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_FORM_ID=your_google_form_id_here

# Environment settings
NODE_ENV=development
ELEVENTY_BASE=/
```

### Git å·¥ä½œæµç¨‹

å°ˆæ¡ˆ `.gitignore` å·²æ’é™¤ï¼š
- `*.bak` - åŒæ­¥è…³æœ¬çš„å‚™ä»½æª”æ¡ˆï¼ˆä¹¾æ·¨èª²ç¨‹ JSONï¼‰
- `.env*` - ç’°å¢ƒè®Šæ•¸ï¼ˆAPI é‡‘é‘°ï¼‰
- `_site/` - å»ºç½®è¼¸å‡º

**æ ¸å¿ƒåŸå‰‡ï¼š**
- Git åƒ…è¿½è¹¤**åŒæ­¥ä¹‹å‰çš„ `course_*.json`**ï¼ˆç„¡ Drive åŒæ­¥å…§å®¹ï¼‰
- åŒæ­¥è…³æœ¬è¦†å¯« JSON ä¾›æœ¬åœ°æ¸¬è©¦
- `.bak` ä¿å­˜ç„¡åŒæ­¥å…§å®¹ç‰ˆæœ¬ä¾›é‚„åŸ

**æäº¤æµç¨‹ï¼š**
```bash
# æ¸¬è©¦å®Œæˆå¾Œï¼Œé‚„åŸä¹¾æ·¨ç‰ˆæœ¬
cp src/_data/*.json.bak src/_data/*.json

# æäº¤
git add .
git commit -m "your message"
git push
```

**GitHub Actions è‡ªå‹•éƒ¨ç½²ï¼š**
- CI åœ¨å»ºç½®æ™‚åŸ·è¡Œ `npm run sync:drive`ï¼ˆä½¿ç”¨ Secrets ä¸­çš„ API Keyï¼‰
- è‡ªå‹•åŒæ­¥ Drive å…§å®¹ä¸¦éƒ¨ç½²åˆ° GitHub Pages

---

## ğŸ§© æ–°å¢ä¸€é–€èª²

### æ­¥é©Ÿ 1ï¼šå»ºç«‹èª²ç¨‹ JSON æª”æ¡ˆ

ä½¿ç”¨ `src/_data/course_template.json` ä½œç‚ºæ–°èª²ç¨‹çš„èµ·å§‹æ¨¡æ¿ã€‚
è¤‡è£½æ¨¡æ¿ä¸¦é‡æ–°å‘½åï¼ˆ**å¿…é ˆä½¿ç”¨ `course_` é–‹é ­**ï¼‰ï¼š

```bash
cp src/_data/course_template.json src/_data/course_3b_myclass_114_spring.json
```

### æ­¥é©Ÿ 2ï¼šç·¨è¼¯èª²ç¨‹å…ƒæ•¸æ“š

ç·¨è¼¯æ–°å»ºçš„ JSON æª”æ¡ˆï¼Œå¡«å…¥ä»¥ä¸‹**å¿…å¡«æ¬„ä½**ï¼š

```json
{
  "slug": "3b-myclass-114-spring",           // ç¶²å€è·¯å¾‘ï¼ˆå°å¯«ã€é€£å­—è™Ÿï¼‰
  "title": "æˆ‘çš„èª²ç¨‹åç¨±",
  "grade": "ä¸‰å¹´ç´š 3B ç­ç´šåç¨±",
  "semester": "114 å­¸å¹´åº¦ æ˜¥å­£",
  "unit": "ä¸»é¡Œå–®å…ƒ",
  "domain": "èª²ç¨‹é ˜åŸŸ",
  "teacher": "æ•™å¸«åç¨±",
  "overview": "èª²ç¨‹ç°¡ä»‹æ–‡å­—",
  "tags": ["æ¨™ç±¤1", "æ¨™ç±¤2"],
  "google_docs": {
    "course_description": "",                // Google Doc IDï¼ˆå¯é¸ï¼‰
    "play_script": "",
    "story": ""
  },
  "drive_folders": {
    "workbook_photos": "",                   // Drive è³‡æ–™å¤¾ ID
    "blackboard": "",
    "photos": "",
    "performance": "",
    "songs_audio": ""
  },
  "files": {
    "workbook_pdfs": [],
    "play_scripts": [],
    "sheet_music": []
  },
  "youtube_videos": {},
  "docs": {}
}
```

### æ­¥é©Ÿ 3ï¼šè¨­å®š Drive è³‡æ–™å¤¾æ¬Šé™

å°‡ `drive_folders` ä¸­å¡«å…¥çš„è³‡æ–™å¤¾è¨­ç‚º**ã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººå¯æª¢è¦–ã€**ï¼š

1. é–‹å•Ÿ Google Drive è³‡æ–™å¤¾
2. å³éµ â†’ å…±ç”¨ â†’ ä¸€èˆ¬å­˜å–æ¬Š
3. é¸æ“‡ã€ŒçŸ¥é“é€£çµçš„ä»»ä½•äººã€+ ã€Œæª¢è¦–è€…ã€

### æ­¥é©Ÿ 4ï¼šåŒæ­¥èˆ‡æ¸¬è©¦

```bash
# åŒæ­¥ Drive å…§å®¹
GOOGLE_API_KEY=ä½ çš„é‡‘é‘° npm run sync:drive

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run dev

# ç€è¦½å™¨é–‹å•Ÿ
# http://localhost:8080/courses/3b-myclass-114-spring/
```

### æ­¥é©Ÿ 5ï¼šæäº¤åˆ° Git

æ¸¬è©¦å®Œæˆå¾Œï¼Œé‚„åŸä¹¾æ·¨ç‰ˆæœ¬ä¸¦æäº¤ï¼š

```bash
# é‚„åŸä¹¾æ·¨çš„èª²ç¨‹ JSON
cp src/_data/*.json.bak src/_data/*.json

# æäº¤æ–°èª²ç¨‹
git add src/_data/course_3b_myclass_114_spring.json
git commit -m "feat: add 3B MyClass 114 Spring course"
git push
```

**é‡è¦æé†’ï¼š**
- æª”æ¡ˆåç¨±å¿…é ˆç¬¦åˆ `course_*.json` æ ¼å¼
- `slug` æ¬„ä½æ±ºå®šç¶²å€è·¯å¾‘ï¼Œå¿…é ˆæ˜¯å”¯ä¸€å€¼
- åƒ…æäº¤**ä¹¾æ·¨çš„ JSON**ï¼ˆç„¡ `files.*` åŒæ­¥å…§å®¹ï¼‰
- GitHub Actions æœƒåœ¨éƒ¨ç½²æ™‚è‡ªå‹•åŒæ­¥ Drive å…§å®¹

---

## ğŸ› ï¸ ç–‘é›£æ’è§£

- **Pagefind MIME / 404**ï¼ˆé–‹ç™¼æ¨¡å¼ï¼‰ï¼š  
  v9.1 å·²æ”¹ç‚º**å‹•æ…‹è¼‰å…¥**ï¼Œæœƒè‡ªå‹• fallback åˆ° CDNã€‚è‹¥ä»æœ‰ç•°å¸¸ï¼Œè«‹ç¡¬é‡æ–°æ•´ç†ï¼ˆCtrl/Cmd+Shift+Rï¼‰ã€‚
- **Drive ç…§ç‰‡ç„¡æ³•é¡¯ç¤º**ï¼š  
  æª¢æŸ¥æª”æ¡ˆæˆ–è³‡æ–™å¤¾æ˜¯å¦å…¬é–‹ï¼›å¿…è¦æ™‚æŠŠåœ–ç‰‡æ”¹èµ° `thumbnail`ï¼ˆç³»çµ±å·²è‡ªå‹•è™•ç†ï¼‰ã€‚
- **éŸ³æª”ç„¡æ³•æ’­æ”¾**ï¼š  
  æª¢æŸ¥éŸ³æª”æ˜¯å¦å…è¨±å…¬é–‹å­˜å–ï¼›ç€è¦½å™¨å¯èƒ½ä»¥ä¸²æµæˆ–ä¸‹è¼‰è™•ç†ï¼ˆä¾ MIME èˆ‡ç€è¦½å™¨è¡Œç‚ºï¼‰ã€‚
- **åŒæ­¥ä¸åˆ°æª”æ¡ˆ**ï¼š  
  ç¢ºèª `GOOGLE_API_KEY`ã€Drive API å·²å•Ÿç”¨ã€è³‡æ–™å¤¾ ID æ­£ç¢ºã€æœªè¢«å›æ”¶æ¡¶æˆ–é shortcut æŒ‡å‘ç§äººæª”æ¡ˆã€‚

---

## ğŸ“„ æˆæ¬Šèˆ‡ç‰ˆæ¬Š

- ç¶²ç«™åŸå§‹ç¢¼ï¼šMITï¼ˆå¯è‡ªç”±è¤‡ç”¨ï¼‰ã€‚  
- å…§å®¹ç´ æï¼š**CC BY-NC**ï¼›å«å­¸ç”Ÿä¹‹ç…§ç‰‡å·²å–å¾—æˆæ¬Šï¼Œä¸å¾—ç”¨æ–¼å•†æ¥­ç”¨é€”ã€‚  
- æ ¡æ–¹è¯çµ¡ï¼šit@waldorf.ilc.edu.tw

---

## ğŸ§¾ æŒ‡ä»¤ä¸€è¦½

```bash
npm install
npm run dev
GOOGLE_API_KEY=xxx npm run sync:drive
npm run build
npm run deploy
```
